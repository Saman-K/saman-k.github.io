<!DOCTYPE html>
<html>
<head>
		<title>Saman.K NotePad</title>
		<link rel="shortcut icon" href="images/my%20head%2014.7x15%20icon%20XS.png"/>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />

		<meta name="p:domain_verify" content="c9f7afa5d3cb4f8aa3a61aa6548ac8e6"/>
  <style>

    body {
      background-color: #222;
      color: #ddd;
      font-family: Arial, sans-serif;
    }

		::selection {
  		background-color: #ffd700;
  		color: #222;
		}

		.tab {
			overflow: hidden;
			position: absolute;
			border: 5px;
			left: 5px;
			background-color: #222222;
		}
		.tab button {
			background-color: inherit;
			float: left;
			border: none;
			outline: none;
			cursor: pointer;
			padding: 10px ;
			transition: 0.3s;
			color: #ddd;
		}
		.tab button.active {
			background-color: #333333;
		}
		.tabcontent {
			display: none;
			padding: 5px;
			border-top: none;
		}

.main {
	position: absolute;
	top: 52px;
	bottom: 38px;
	left: 10px;
	right: 10px;
}
		textarea {
			position: absolute;
			top: 30px;
			bottom: 0px;
			left: 0px;
			right: 0px;
		  background-color: #333;
		  color: #fff;
		  padding: 15px;
		  font-size: 16px;
		  border: 5px;
		  box-sizing: border-box;
		  resize: none;
		}

    #toolbar {
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      height: 40px;
      background-color: #444;
      padding: 5px;
      box-sizing: border-box;
      align-items: center;
      # justify-content: space-between;
      display: flex;

    }

    #toolbar button {
      margin-right: 5px;
      border: none;
      border-radius: 3px;
      padding: 5px;
      background-color: #555;
      color: #fff;
      font-size: 14px;
      cursor: pointer;
    }

    #samank-button {
      display: flex;
      align-items: center;
      text-decoration: none;
      color: #ffffff;
    }

    #samank-button img {
      margin-left: 5px;
    }

    #samank-button:hover {
      color: #ffd700;
    }

		#footer {
			position: fixed;
			bottom: 0;
			left: 0;
			right: 0;
			background-color: #444;
			padding: 5px;
			box-sizing: border-box;
			text-align: center;
			font-size: 14px;
			color: #eee;
		}

		#footer a {
  		color: #eee;
		}

  </style>
</head>
<body>
  <div id="toolbar">
		<a href="index" rel="noopener noreferrer" id="samank-button">
			<img src="images/my%20head%2014.7x15%20icon%20XS.png" width="20" height="20">
		</a>
		<a style="color: #444;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a>
    <button onclick="toggleBold()">Bold</button>
    <button onclick="toggleItalic()">Italic</button>
    <button onclick="toggleUnderline()">Underline</button>
    &nbsp;Font family:&nbsp;
    <select id="fontFamilySelect" onchange="changeFontFamily()">
      <option value="Arial">Arial</option>
      <option value="Verdana">Verdana</option>
      <option value="Courier New">Courier New</option>
    </select>
    &nbsp;&nbsp;Font size:&nbsp;<input type="number" id="fontSizeInput" value="16" min="8" max="72" onchange="changeFontSize()">
    &nbsp;&nbsp;Color:&nbsp;<input type="color" id="fontColorInput" value="#000000" onchange="changeFontColor()">
  </div>

<div class="main">
	<div class="tab">
		<button class="tablinks" onclick="openTab(event, 'Tab1')" id="defaultOpen">Page 1</button>
		<button class="tablinks" onclick="openTab(event, 'Tab2')">Page 2</button>
		<button class="tablinks" onclick="openTab(event, 'Tab3')">Page 3</button>
	</div>
	<div class="tab-content">
		<div id="Tab1" class="tabcontent">
			<textarea id="Tab1Text"></textarea>
		</div>
		<div id="Tab2" class="tabcontent">
			<textarea id="Tab2Text"></textarea>
		</div>
		<div id="Tab3" class="tabcontent">
			<textarea id="Tab3Text"></textarea>
		</div>
	</div>
	</div>


 <!--<textarea id="notepad" onkeydown="preventTab(event)"></textarea>-->

  <script>

	// Get the tabs and tab content elements
	var tabs = document.getElementsByClassName("tablinks");
	var tabContents = document.getElementsByClassName("tabcontent");
	// Set the active tab
	document.getElementById("Tab1").style.display = "block";

	function openTab(evt, tabName) {
		var i, tabcontent, tablinks;
		tabcontent = document.getElementsByClassName("tabcontent");
		for (i = 0; i < tabcontent.length; i++) {
			tabcontent[i].style.display = "none";
		}
		tablinks = document.getElementsByClassName("tablinks");
		for (i = 0; i < tablinks.length; i++) {
			tablinks[i].className = tablinks[i].className.replace(" active", "");
		}
		document.getElementById(tabName).style.display = "block";
		evt.currentTarget.className += " active";
		document.getElementById(tabName + "Text").focus();
	}
	
	// Set the default tab to be opened
	document.getElementById("defaultOpen").click();


	// Function to save the text in each text box when the page is unloaded
	window.addEventListener("beforeunload", function () {
		// Save the last used tab as the default tab
		localStorage.setItem("Tab1Text", document.getElementById("Tab1Text").value);
		localStorage.setItem("Tab2Text", document.getElementById("Tab2Text").value);
		localStorage.setItem("Tab3Text", document.getElementById("Tab3Text").value);
	});

	// Function to restore the text in each text box when the page is loaded
	window.addEventListener("load", function () {
		document.getElementById("Tab1Text").value = localStorage.getItem("Tab1Text") || "";
		document.getElementById("Tab2Text").value = localStorage.getItem("Tab2Text") || "";
		document.getElementById("Tab3Text").value = localStorage.getItem("Tab3Text") || "";
	});



    // Get the notepad element
    const notepad = document.getElementById("notepad");



    // Font editing functions-------------
    function changeFontFamily() {
      const fontFamilySelect = document.getElementById("fontFamilySelect");
      const fontFamily = fontFamilySelect.value;
      notepad.style.fontFamily = fontFamily;
    }

    function changeFontSize() {
      const fontSizeInput = document.getElementById("fontSizeInput");
      const fontSize = fontSizeInput.value + "px";
      notepad.style.fontSize = fontSize;
    }

    function changeFontColor() {
      const fontColorInput = document.getElementById("fontColorInput");
      const fontColor = fontColorInput.value;
      notepad.style.color = fontColor;
    }

    function toggleBold() {
      const isBold = notepad.style.fontWeight === "bold";
      notepad.style.fontWeight = isBold ? "normal" : "bold";
    }

    function toggleItalic() {
      const isItalic = notepad.style.fontStyle === "italic";
      notepad.style.fontStyle = isItalic ? "normal" : "italic";
    }

		function toggleUnderline() {
      const isUnderline = notepad.style.textDecoration === "underline";
      notepad.style.textDecoration = isUnderline ? "none" : "underline";
    }

		const textarea = document.querySelector('textarea');

		textarea.addEventListener('keydown', function(event) {
		  if (event.key === 'Tab') {
		    event.preventDefault();
		    const start = this.selectionStart;
		    const end = this.selectionEnd;
		    const value = this.value;
		    // Insert either a tab or a space character at the current cursor position
		    const newValue = value.substring(0, start) + '\t' + value.substring(end);
		    this.value = newValue;
		    // Move the cursor to the position after the inserted character
		    this.selectionStart = this.selectionEnd = start + 1;
		  }
		});
  </script>
</body>

<footer id="footer">
	<span class="copyright">&copy; <a href="index">Saman.K</a></span>
</footer>
</html>
